<!DOCTYPE html>
<html lang="zh-CN"><head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta name="description" content="Search - https://kkkiona.github.io/search/">
    <meta name="author" content="Kiona - https://kkkiona.github.io/">
    
    <meta name="msvalidate.01" content="B46311949B856F2A7015F366FB3CE878" />
    <title>Search</title>
    <link rel="icon" type="image/png" href="/favicon.ico">
    
    <link rel="stylesheet" href="https://kkkiona.github.io/style.min.26be4dda097a77a6cfac08515c7f1d92df076066b735599299246b1e2de1d32f.css">
    
    <script type="text/javascript" src="/main.js" defer></script>
    
</head>
<body class="active-animate cool">
        <div id="header"><div class="container-header">
    <div id="vars" class="container-vars" style="display: none;">
	{
		"hasFoldAllCodeBlocks": false,
		"svgColor": "#6c757d",
		"en": true,
		"dark": false
	}
</div>
    <h1 class="title">
        Search
    </h1>

    <div class="container-breadcrumb-nav">
    
    <div class="breadcrumb-nav-bar">
        <div><a href="/"><svg t="1656411084410" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2954" width="16" height="16"><path d="M947.5 390.6l-377-290c-34.5-26.5-82.6-26.5-117.1 0l-377 290c-14 10.8-16.6 30.9-5.9 44.9 10.8 14 30.9 16.6 44.9 5.9l28.5-21.9V768c0 88.2 71.8 160 160 160h80c35.3 0 64-28.7 64-64V640c0-17.6 14.4-32 32-32h64c17.6 0 32 14.4 32 32v224c0 35.3 28.7 64 64 64h80c88.2 0 160-71.8 160-160V419.4l28.5 21.9c5.8 4.5 12.7 6.6 19.5 6.6 9.6 0 19.1-4.3 25.4-12.5 10.8-13.9 8.2-34-5.8-44.8zM816 768c0 52.9-43.1 96-96 96h-80V640c0-52.9-43.1-96-96-96h-64c-52.9 0-96 43.1-96 96v224h-80c-52.9 0-96-43.1-96-96V370.2l284.5-218.8c11.5-8.8 27.5-8.8 39 0L816 370.2V768z" fill=#6c757d p-id="2955"></path></svg></a></div>
        <div><a href="/nav"><svg t="1656411531924" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5827" width="16" height="16"><path d="M849.59197473 125.23018519L139.22930586 391.72854662a23.35052669 23.35052669 0 0 0-14.95414244 21.65490745c-0.12257519 9.70384955 5.61801843 18.46795771 14.40255493 22.04306141l318.42928099 129.25528056 119.51057092 320.39047893c3.06437293 8.23295069 10.35758221 13.89182751 18.7335381 14.87242563l2.7170774 0.14300521a22.79893918 22.79893918 0 0 0 21.20546682-15.36272638l259.51158924-729.54564933a23.8612558 23.8612558 0 0 0-5.31158128-24.55584682 22.3290685 22.3290685 0 0 0-23.9021142-5.43415649zM793.65694081 211.64552314l-196.63064161 552.75171747-91.91077952-246.37564122-253.62799211-102.96295445 542.16941324-203.4131218z" p-id="5828" fill=#6c757d></path></svg></a></div>
        <div><a href="/search"><svg t="1656411627509" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1730" width="14" height="14"><path d="M469.333333 85.333333c211.968 0 384 172.032 384 384s-172.032 384-384 384-384-172.032-384-384 172.032-384 384-384z m0 682.666667c164.992 0 298.666667-133.674667 298.666667-298.666667 0-165.034667-133.674667-298.666667-298.666667-298.666666-165.034667 0-298.666667 133.632-298.666666 298.666666 0 164.992 133.632 298.666667 298.666666 298.666667z m362.026667 3.029333l120.704 120.661334-60.373333 60.373333-120.661334-120.704 60.330667-60.330667z" p-id="1731" fill=#6c757d></path></svg></a></div>
        <div><a href="/posts"><svg t="1656411724198" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5655" width="12" height="12"><path d="M811.705761 1024H212.294239c-93.1199 0-174.823046-87.570975-174.823046-187.387854V162.322018C37.471193 69.776145 112.604921 0 212.294239 0H596.190595l7.015883 5.93161c111.74388 95.479788 185.857116 170.741078 279.614824 266.093304 29.65805 30.040735 61.165743 62.122454 96.436499 97.393211l7.271006 7.334787v459.859234c-0.063781 99.816879-81.703145 187.387854-174.823046 187.387854zM212.294239 49.94033c-72.391155 0-124.882716 47.261538-124.882716 112.381688v674.290128c0 71.94469 59.507443 137.383743 124.882716 137.383743h599.411522c65.311492 0 124.882716-65.439053 124.882716-137.383743V397.417876c-32.528184-32.464404-61.73977-62.250016-89.356836-90.377328-90.951355-92.418312-163.278729-165.957521-269.601245-257.163999H212.294239z" fill=#6c757d p-id="5656"></path><path d="M936.588477 449.526752h-212.326129c-99.753099 0-187.324073-81.703145-187.324073-174.823046V49.94033a25.002055 25.002055 0 0 1 49.94033 0v224.763376c0 65.311492 65.502834 124.882716 137.383743 124.882716h212.326129a25.002055 25.002055 0 1 1 0 49.94033z" fill=#6c757d p-id="5657"></path></svg></a></div>
        <div><a href="/archive"><svg t="1656411795742" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7334" width="12" height="12"><path d="M884.224 522.24H504.32V141.824c0-16.896-13.824-30.72-30.72-30.72-120.32 0-233.472 47.616-317.952 134.144S26.112 445.952 29.184 566.784c2.56 114.688 49.152 222.72 131.072 304.128 81.92 81.408 189.952 128 304.64 130.56h10.24c117.76 0 227.84-45.568 312.32-128.512 86.528-85.504 133.632-199.68 132.608-321.024-0.512-2.048-1.536-29.696-35.84-29.696z m-140.288 307.712c-74.752 73.728-173.056 112.64-277.504 110.592-205.824-4.608-370.688-169.472-375.296-374.784-3.072-104.448 35.84-202.752 108.544-277.504 65.536-67.072 151.552-107.52 243.712-114.688v378.88c0 16.896 13.824 30.72 30.72 30.72 129.024 0 311.296 0 382.976 0.512-6.144 93.184-46.08 179.712-113.152 246.272z" fill=#6c757d p-id="7335"></path><path d="M603.136 11.264c-8.192-0.512-15.872 3.072-22.016 8.704-5.632 5.632-9.216 13.824-9.216 22.016v378.88c0 16.896 13.824 30.72 30.72 30.72h378.88c16.896 0 30.72-13.824 30.72-30.72 0-223.744-183.808-407.552-409.088-409.6z m30.208 378.88V74.24c167.424 16.384 301.056 150.016 315.904 315.904h-315.904z" fill=#6c757d p-id="7336"></path></svg></a></div>
        <div id="light-dark" style="cursor: pointer;"><a><svg t="1656411842215" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5086" width="12" height="12"><path d="M1007.492874 384.513055c-8.795694-34.58307-21.189627-67.666874-36.682043-99.05151-2.698679-5.397358-10.894667-3.498287-10.894666 2.598728v0.299853c0 32.484098-6.896624 63.868734-19.890263 92.554691-10.694764 23.488501-25.487523 45.077933-43.978471 64.068635-41.779547 42.679107-99.05151 66.967217-158.722299 67.26707-61.869712 0.299853-119.941284-24.188159-162.920244-68.966238-40.280281-41.979449-62.56937-98.251902-62.269516-156.323473 0.399804-59.270984 23.588452-114.94373 65.567901-156.823229 19.59041-19.59041 42.179351-35.082826 66.667364-46.077443C672.956643 71.166451 704.041426 64.469729 736.125719 64.469729h1.299364c6.097015 0 8.096037-8.096037 2.598728-10.794715C708.739126 37.982696 675.655322 25.488812 641.172203 16.493216 599.492607 5.598549 555.714038-0.098662 510.536154 0.001289 222.37722 0.700947-7.41029 237.38508 0.185992 525.444064c7.096526 271.667008 225.889418 490.559851 497.456474 497.856279 287.559228 7.796183 524.14341-220.891864 525.842579-508.551044 0.299853-44.977981-5.297407-88.656599-15.992171-130.236244z m-83.15929 301.552378c-22.588942 53.27392-54.873137 101.250434-95.953027 142.330323-41.179841 41.179841-89.056403 73.464036-142.330324 95.953027-55.172991 23.288599-113.744317 35.182777-174.314666 35.182777s-119.141675-11.794226-174.314666-35.182777c-53.27392-22.588942-101.250434-54.873137-142.330323-95.953027-41.179841-41.179841-73.464036-89.056403-95.953027-142.330323C75.749001 630.892442 63.954774 572.221164 63.954774 511.750767s11.794226-119.141675 35.182777-174.314666c22.588942-53.27392 54.873137-101.250434 95.953027-142.330323 41.179841-41.179841 89.056403-73.464036 142.330323-95.953027C392.593892 75.7642 451.26517 63.969974 511.735567 63.969974c13.99315 0 27.886348 0.599706 41.679596 1.89907C489.246577 118.643209 448.266638 198.704016 448.266638 288.360126c0 159.022152 128.836929 287.859081 287.859081 287.859081 89.156354 0 168.817357-40.580134 221.691473-104.149015 1.099462 13.09359 1.699168 26.387082 1.699168 39.680575 0 60.470397-11.794226 119.141675-35.182776 174.314666z" p-id="5087" fill=#6c757d></path></svg></a></div>
        
    </div>

    
</div>

    
    
</div>
</div>
        <div id="content">












<div class="post-password">
    <script>
        (function(){
            if(''){
                if (prompt('Enter password') !== ''){
                    alert('Password wrong');
                    history.back();
                }
            }
        })();
    </script>
</div>

<div class="container-main 
     container-search 
    ">

    <div class="desc">
        
    </div>
    
    <div class="toc">
        
        <nav id="TableOfContents"></nav>
    </div>

    <div class='content  content '>
        
    </div>

    <div class="container-search">
    <div id="data" style="display: none;">
        
            
                [{"content":"this chapter will introduce the basic concept of javascript and basic rules include grammar, variable, function and so on.\nintroduction javascript is a cross-platform, object-oriented scripting language used to make webpages interactive (e.g., having complex animations, clickable buttons, popup menus, etc.). there are also more advanced server side versions of javascript such as node.js, which allow you to add more functionality to a website than downloading files (such as realtime collaboration between multiple computers). inside a host environment (for example, a web browser), javascript can be connected to the objects of its environment to provide programmatic control over them.\nusage the usage of javascript can be divided into inside of html and outside of html\ninside of html for inside of html, javascript must be placed between \u0026lt;script\u0026gt; and \u0026lt;/script\u0026gt;. and that should be located in \u0026lt;body\u0026gt; or \u0026lt;head\u0026gt; label or both of them.\n\u0026lt;!doctype html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;body\u0026gt; \u0026lt;script\u0026gt; document.write(\u0026#34;\u0026lt;h1\u0026gt;this is a theme\u0026lt;/h1\u0026gt;\u0026#34;); // this is a theme document.write(\u0026#34;\u0026lt;p\u0026gt;this is a paragraph\u0026lt;/p\u0026gt;\u0026#34;); // this is a paragraph \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; outside of html javascript can be separated from html as a independent file named .js. .js file can be imported in html between \u0026lt;script\u0026gt; by assign src same as inside of html.\n// myscript.js file function myfunction() { document.getelementbyid(\u0026#34;demo\u0026#34;).innerhtml=\u0026#34;helle world\u0026#34;; } \u0026lt;!doctype html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;body\u0026gt; \u0026lt;script src=\u0026#34;myscript.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;!-- hello world --\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; run in chrome chrome browser is a good tool for debugging javascript. for starting debug function, there are three ways.\npress f12. right-click and choose check. click more button, choose more tools, choose developer tools. debug in console you can directly write or copy code in console window to debug it by press enter.\nconsole.log(\u0026#34;hello world\u0026#34;) debug in snippets you can also debug code by snippets window by creating a new snippet. (select the sources window and click more button, you will find snippets in new chrome version.)\ncreate a new snippet, input your code, ctrl + s (windows and linxe) or command + s (mac) to save the file, and then right-click the file to run it.\nconsole.log(\u0026#34;hello world\u0026#34;) console.log(\u0026#34;my name is kiona\u0026#34;) output javascript itself doesn\u0026rsquo;t have any print or output function. javascript can show data by four ways.\nwindows.alert() pop up window from browser. console.log() show in the browser console. document.write() write content into html document. innerhtml write content into html label. window alert \u0026lt;!doctype html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;body\u0026gt; \u0026lt;script\u0026gt; window.alert(5 + 6); // pop up 11 from window alert \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; console log only used for browser which support debug ability such as chrome.\n\u0026lt;!doctype html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;body\u0026gt; \u0026lt;script\u0026gt; a = 5; b = 6; c = a + b; console.log(c); // show 11 in the debug console \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; html document write the content into html document directly, and show in the browser.\n\u0026lt;!doctype html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;body\u0026gt; \u0026lt;script\u0026gt; document.write(date()); // thu jan 12 2023 16:26:01 gmt+0800 \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; html label show the message by modifying the html label\u0026rsquo;s content.\n\u0026lt;!doctype html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p id=\u0026#34;demo\u0026#34;\u0026gt;hello world\u0026lt;/p\u0026gt; \u0026lt;!-- \u0026#34;hello world\u0026#34; will be changed to \u0026#34;i\u0026#39;m kiona\u0026#34; --\u0026gt; \u0026lt;script\u0026gt; document.getelementbyid(\u0026#34;demo\u0026#34;).innerhtml = \u0026#34;i\u0026#39;m kiona\u0026#34;; \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; grammar literal literal is a element with solid value.\nliteral description example number number is integer or decimal, or scientific count. (e/e) 3.14, 1001, 123e5 string string use double or single quotation as the mark. ('' or \u0026quot;\u0026quot;) \u0026quot;kiona\u0026quot;, 'kiona' expression expression is used for calculation 5+6, 5*6 arry arry is used for a set of data (support different types), and use middle bracket as the mark. ([]) [1, \u0026quot;hello\u0026quot;] object object is used to define a property and its value. {class:\u0026quot;lion\u0026quot;, color:\u0026quot;yellow\u0026quot;, age:5} function function is used to define a function. function myfunction(a, b){return a*b;} variable variable is different from literal, its value can be changed in any time. javascript support a lot of data types (int, float, double, bool, string, arr, object) and you don\u0026rsquo;t need to specify data type in declaration.\nvar length = 16; var points = x * 10; var lastname = \u0026#34;johnson\u0026#34;; var cars = [\u0026#34;saab\u0026#34;, \u0026#34;volvo\u0026#34;, \u0026#34;bmw\u0026#34;]; var person = {firstname:\u0026#34;john\u0026#34;, lastname:\u0026#34;doe\u0026#34;}; declaration javascript has three kinds of variable declarations.\nvar declares a function-scoped or globally-scoped variable, optionally initializing it to a value. let declares a block-scoped local variable, optionally initializing it to a value. const creates block-scoped constants, much like variables declared using the let keyword. the value of a constant can\u0026rsquo;t be changed through reassignment and redeclared. (the detailed differences will be introduced in the follow chapter.) var x = 1; let y = \u0026#39;hello\u0026#39;; const z = [1, \u0026#39;hello\u0026#39;]; operator javascript use arithmetic operators (+ - * /) and assigning operators (=) same like math method.\nvar x == (x + y) * 10; javascript also have bitwise operator, condition operator, comparison operator and logical operator, which will be introduced in the follow chapter.\nsyntax javascript use ; to separate different statement.\nx = 5 + 6; y = x * 10; function javascript use keyword \u0026ldquo;function\u0026rdquo; to define a function.\nfunction myfunction(a, b) { return a * b; } keyword javascript keep a lot of keywords for build-in functions, which can not be used as custom element.\nabstract else instanceof super boolean enum int switch break export interface synchronized byte extends let this case false long throw catch final native throws char finally new transient class float null true const for package try continue function private typeof debugger goto protected var default if public void delete implements return volatile do import short while double in static with comments javascript use double slash (// ) as the comments mark.\n// this is the comments, which will not be considered as codes. coding javascript is case-sensitive and uses the unicode character set, which means it can supports such like:\nconst früh = \u0026#34;foobar\u0026#34;; ","date":"2023-01-12","permalink":"https://kkkiona.github.io/posts/javascript-basic/","summary":"\u003cp\u003eThis chapter will introduce the basic concept of Javascript and basic rules include grammar, variable, function and so on.\u003c/p\u003e","title":"javascript basic"},{"content":"this chapter discusses what is javascript and its basic grammar, variable declarations, data types and literals.\njavascript javascript is a cross-platform, object-oriented scripting language used to make webpages interactive (e.g., having complex animations, clickable buttons, popup menus, etc.). there are also more advanced server side versions of javascript such as node.js, which allow you to add more functionality to a website than downloading files (such as realtime collaboration between multiple computers). inside a host environment (for example, a web browser), javascript can be connected to the objects of its environment to provide programmatic control over them.\ncoding javascript is case-sensitive and uses the unicode character set, which means it can supports such like:\nconst früh = \u0026#34;foobar\u0026#34;; in javascript, instructions are called statements and are separated by semicolons (;).\ncomments the syntax of comments is the same as in c++ and in many other languages:\n// a one line comment /* this is a longer, * multi-line comment */ variables the names of variables in javascript called identifiers, usually starts with a letter, underscore (_), or dollar sign ($). subsequent characters can also be digits (0 – 9). because javascript is case sensitive, letters include the characters a through z (uppercase) as well as a through z (lowercase). javascript also support iso 8859-1 or unicode letters such as å and ü in identifiers.\nsome examples of legal names are number_hits, temp99, $credit, and _name.\ndeclarations javascript has three kinds of variable declarations.\nvar declares a function-scoped or globally-scoped variable, optionally initializing it to a value. var x = 1; if (x === 1) { var x = 2; // if use \u0026#39;let\u0026#39; the second output is 1 console.log(x); // expected output: 2 } console.log(x); // expected output: 2 let declares a block-scoped local variable, optionally initializing it to a value. let x = 1; if (x === 1) { let x = 2; /* if use var, it will result clash because of * existing global \u0026#39;x\u0026#39; and local \u0026#39;x\u0026#39; */ console.log(x); // expected output: 2 } console.log(x); // expected output: 1 const creates block-scoped constants, much like variables declared using the let keyword. the value of a constant can\u0026rsquo;t be changed through reassignment (i.e. by using the assignment operator), and it can\u0026rsquo;t be redeclared (i.e. through a variable declaration). however, if a constant is an object or array its properties or items can be updated or removed. const number = 42; try { number = 99; // if add \u0026#39;const\u0026#39;, it can be accepted and value is 99 } catch (err) { console.log(err); // expected output: typeerror: invalid assignment to const `number\u0026#39; // (note: the exact output may be browser-dependent) } console.log(number); // expected output: 42 you can declare variables to unpack values using the destructuring assignment syntax. for example:\nconst { bar } = foo this will create a variable named bar and assign to it the value corresponding to the key of the same name from our object foo.\nvariables should always be declared before they are used. javascript used to allow assigning to undeclared variables, which creates an undeclared global variable. this is an error in strict mode and should be avoided altogether.\ninitialization in var and let declarations, the initializer is optional. if a variable is declared without an initializer, it is assigned the value undefined.\nlet x; console.log(x); // logs \u0026#34;undefined\u0026#34; const declarations always need an initializer, because they forbid any kind of assignment after declaration, and implicitly initializing it with undefined is likely a programmer mistake.\nconst x; // syntaxerror: missing initializer in const declaration variable scope a variable may belong to one of the following scopes:\nglobal scope: the default scope for all code running in script mode. module scope: the scope for code running in module mode. function scope: the scope created with a function. in addition, variables declared with let or const can belong to an additional scope:\nblock scope: the scope created with a pair of curly braces ({}). variable hoisting var declared variables are hoisted, meaning you can refer to the variable anywhere in its scope, even if its declaration isn\u0026rsquo;t reached yet. you can see var declarations as being \u0026ldquo;lifted\u0026rdquo; to the top of its function or global scope. however, if you access a variable before it\u0026rsquo;s declared, the value is always undefined, because only its declaration is hoisted, but not its initialization.\nconsole.log(x === undefined); // true var x = 3; (function() { console.log(x); // undefined var x = \u0026#39;local value\u0026#39;; })(); the above examples will be interpreted the same as:\nvar x; console.log(x === undefined); // true x = 3; (function() { var x; console.log(x); // undefined x = \u0026#39;local value\u0026#39;; })(); notice if remove the sceond var in the first example, it will be:\nconsole.log(x === undefined); // true var x = 3; (function() { console.log(x); // 3 // because no new decalaration to be hoisted x = \u0026#39;local value\u0026#39;; })(); because of hoisting, all var statements in a function should be placed as near to the top of the function as possible. this best practice increases the clarity of the code.\nbecause the variable is in a \u0026ldquo;temporal dead zone\u0026rdquo; from the start of the block until the declaration is processed, same situation for let and const will cause referenceerror.\nconsole.log(x); // referenceerror const x = 3; console.log(y); // referenceerror let y = 3; unlike var declarations, which only hoist the declaration but not its value, function declarations are hoisted entirely — you can safely call the function anywhere in its scope.\nglobal variables global variables are in fact properties of the global object.\nin web pages, the global object is window, so you can set and access global variables using the window.variable syntax. in all environments, you can use the globalthis variable (which itself is a global variable) to access global variables.\nconsequently, you can access global variables declared in one window or frame from another window or frame by specifying the window or frame name.\nconstants you cannot declare a constant with the same name as a function or variable in the same scope. for example:\n// this will cause an error function f() {}; const f = 5; // this will cause an error too function f() { const g = 5; var g; //statements } however, const only prevents re-assignments, but doesn\u0026rsquo;t prevent mutations. the properties of objects assigned to constants are not protected, so the following statement is executed without problems.\nconst my_object = { key: \u0026#39;value\u0026#39; }; my_object.key = \u0026#39;othervalue\u0026#39;; also, the contents of an array are not protected, so the following statement is executed without problems.\nconst my_array = [\u0026#39;html\u0026#39;,\u0026#39;css\u0026#39;]; my_array.push(\u0026#39;javascript\u0026#39;); console.log(my_array); // [\u0026#39;html\u0026#39;, \u0026#39;css\u0026#39;, \u0026#39;javascript\u0026#39;]; data types the latest ecmascript standard defines eight data types:\nseven data types that are primitives:\nboolean. true and false. null. a special keyword denoting a null value. (because javascript is case-sensitive, null is not the same as null, null, or any other variant.) undefined. a top-level property whose value is not defined. number. an integer or floating point number. for example: 42 or 3.14159. bigint. an integer with arbitrary precision. for example: 9007199254740992n. string. a sequence of characters that represent a text value. for example: \u0026ldquo;howdy\u0026rdquo;. symbol. a data type whose instances are unique and immutable. and object\ndata type conversion javascript is a dynamically typed language:\nlet answer = 42; and later, you could assign the same variable a string value, for example:\nanswer = \u0026#39;thanks for all the fish!\u0026#39;; numbers and the \u0026lsquo;+\u0026rsquo; operator in expressions involving numeric and string values with the + operator, javascript converts numeric values to strings. for example:\nx = \u0026#39;the answer is \u0026#39; + 42 // \u0026#34;the answer is 42\u0026#34; y = 42 + \u0026#39; is the answer\u0026#39; // \u0026#34;42 is the answer\u0026#34; z = \u0026#39;37\u0026#39; + 7 // \u0026#34;377\u0026#34; with all other operators, javascript does not convert numeric values to strings. for example:\n\u0026#39;37\u0026#39; - 7 // 30 \u0026#39;37\u0026#39; * 7 // 259 converting strings to numbers in the case that a value representing a number is in memory as a string, there are methods for conversion.\nparseint() parses a string argument and returns an integer of the specified radix. parsefloat() parses a string argument and returns a floating point number. parseint(\u0026#39;101\u0026#39;, 2) // 5 an alternative method of retrieving a number from a string is with the + (unary plus) operator:\n\u0026#39;1.1\u0026#39; + \u0026#39;1.1\u0026#39; // \u0026#39;1.11.1\u0026#39; (+\u0026#39;1.1\u0026#39;) + (+\u0026#39;1.1\u0026#39;) // 2.2 // note: the parentheses are added for clarity, not required. array the array object, as with arrays in other programming languages, enables storing a collection of multiple items under a single variable name, and has members for performing common array operations.\njavascript arrays are resizable and can contain a mix of different data types. (when those characteristics are undesirable, use typed arrays instead.) javascript arrays are not associative arrays and so, array elements cannot be accessed using arbitrary strings as indexes, but must be accessed using nonnegative integers (or their respective string form, e.g., num[1] or num['1']) as indexes. javascript arrays are zero-indexed: the first element of an array is at index 0, the second is at index 1, and so on and the last element is at the value of the array\u0026rsquo;s length property minus 1. javascript array-copy operations create shallow copies. (all standard built-in copy operations with any javascript objects create shallow copies, rather than deep copies). literals literals represent values in javascript. these are fixed values (not variables) that you literally provide in your script. this section describes the following types of literals:\narray literals boolean literals numeric literals object literals regexp literals string literals array literals an array literal is a list of zero or more expressions, each of which represents an array element, enclosed in square brackets ([]). when you create an array using an array literal, it is initialized with the specified values as its elements, and its length is set to the number of arguments specified.\nconst coffees = [\u0026#39;french roast\u0026#39;, \u0026#39;colombian\u0026#39;, \u0026#39;kona\u0026#39;]; // length is 3 extra commas in array literals if you put two commas in a row in an array literal, the array leaves an empty slot for the unspecified element.\nconst fish = [\u0026#39;lion\u0026#39;, , \u0026#39;angel\u0026#39;]; console.log(fish); // [ \u0026#39;lion\u0026#39;, \u0026lt;1 empty item\u0026gt;, \u0026#39;angel\u0026#39; ] index-accessing fish[1] returns undefined, but which is not exactly the same as the actual undefined value.\nin the following example, the length of the array is three. there is no mylist[3].\nconst mylist = [\u0026#39;home\u0026#39;, , \u0026#39;school\u0026#39;, ]; in the following example, the length of the array is four, and mylist[0] and mylist[2] are missing.\nconst mylist = [, \u0026#39;home\u0026#39;, , \u0026#39;school\u0026#39;]; in the following example, the length of the array is four, and mylist[1] and mylist[3] are missing. only the last comma is ignored.\nconst mylist = [\u0026#39;home\u0026#39;, , \u0026#39;school\u0026#39;, , ]; however, when writing your own code, you should explicitly declare the missing elements as undefined, or at least insert a comment to highlight its absence.\nconst mylist = [\u0026#39;home\u0026#39;, /* empty */, \u0026#39;school\u0026#39;, /* empty */, ]; boolean literals do not confuse the boolean primitive values true and false with the true and false values of the boolean object.\nany object, including a boolean object whose value is false, evaluates to true when passed to a conditional statement. for example, the condition in the following if statement evaluates to true:\nconst x = new boolean(false); if (x) { // this code is executed } this behavior does not apply to boolean primitive. for example, the condition in the following if statement evaluates to false:\nconst x = false; if (x) { // this code is not executed } do not use the boolean() constructor with new to convert a non-boolean value to a boolean value. use boolean as a function or a double not (!!) instead:\nconst good = boolean(expression); // use this const good2 = !!(expression); // or this const bad = new boolean(expression); // don\u0026#39;t use this! if you specify any object, including a boolean object whose value is false, as the initial value of a boolean object, the new boolean object has a value of true.\nconst myfalse = new boolean(false); // initial value of false const g = boolean(myfalse); // initial value of true const mystring = new string(\u0026#39;hello\u0026#39;); // string object const s = boolean(mystring); // initial value of true numeric literals javascript numeric literals include integer literals in different bases as well as floating-point literals in base-10.\nnote that the language specification requires numeric literals to be unsigned. nevertheless, code fragments like -123.4 are fine, being interpreted as a unary - operator applied to the numeric literal 123.4.\ninteger literals integer and bigint literals can be written in decimal (base 10), hexadecimal (base 16), octal (base 8) and binary (base 2).\na decimal integer literal is a sequence of digits without a leading 0 (zero). a leading 0 (zero) on an integer literal, or a leading 0o (or 0o) indicates it is in octal. octal integer literals can include only the digits 0 – 7. a leading 0x (or 0x) indicates a hexadecimal integer literal. hexadecimal integers can include digits (0 – 9) and the letters a – f and a – f. (the case of a character does not change its value. therefore: 0xa = 0xa = 10 and 0xf = 0xf = 15.) a leading 0b (or 0b) indicates a binary integer literal. binary integer literals can only include the digits 0 and 1. a trailing n suffix on an integer literal indicates a bigint literal. the integer literal can use any of the above bases. note that leading-zero octal syntax like 0123n is not allowed, but 0o123n is fine. some examples of integer literals are:\n0, 117, 123456789123456789n // decimal, base 10 015, 0001, 0o777777777777n // octal, base 8 0x1123, 0x00111, 0x123456789abcdefn // hexadecimal, \u0026#34;hex\u0026#34; or base 16 0b11, 0b0011, 0b11101001010101010101n // binary, base 2 floating-point literals succinctly, the syntax is:\n[digits].[digits][(e|e)[(+|-)]digits] for example:\n3.1415926 .123456789 3.1e+12 .1e-23 object literals an object literal is a list of zero or more pairs of property names and associated values of an object, enclosed in curly braces ({}).\nuse (.) to access string property name. use ([]) to access numeric property name. use ([]) to access unvalid identifier property name. for example the car object:\n// e.g. 1 const sales = \u0026#39;toyota\u0026#39;; function cartypes(name) { return name === \u0026#39;honda\u0026#39; ? name : `sorry, we don\u0026#39;t sell ${name}.`; } const car = { mycar: \u0026#39;saturn\u0026#39;, getcar: cartypes(\u0026#39;honda\u0026#39;), special: sales }; console.log(car.mycar); // saturn console.log(car.getcar); // honda console.log(car.special); // toyota // e.g. 2 const car = { manycars: { a: \u0026#39;saab\u0026#39;, b: \u0026#39;jeep\u0026#39; }, 7: \u0026#39;mazda\u0026#39; }; console.log(car.manycars.b); // jeep console.log(car[7]); // mazda // e.g. 3 const unusualpropertynames = { \u0026#39;\u0026#39;: \u0026#39;an empty string\u0026#39;, \u0026#39;!\u0026#39;: \u0026#39;bang!\u0026#39; } console.log(unusualpropertynames[\u0026#39;\u0026#39;]); // an empty string console.log(unusualpropertynames[\u0026#39;!\u0026#39;]); // bang! enhanced object literals object literals support a range of shorthand syntaxes that include setting the prototype at construction, shorthand for foo: foo assignments, defining methods, making super calls, and computing property names with expressions.\nconst obj = { // __proto__ __proto__: theprotoobj, // shorthand for \u0026#39;handler: handler\u0026#39; handler, // methods tostring() { // super calls return \u0026#39;d \u0026#39; + super.tostring(); }, // computed (dynamic) property names [\u0026#39;prop_\u0026#39; + (() =\u0026gt; 42)()]: 42, } regexp literals a regex literal is a pattern enclosed between slashes (/).\nconst re = /ab+c/; string literals a string literal is zero or more characters enclosed in double (\u0026quot;) or single (') quotation marks.\n\u0026#39;foo\u0026#39; \u0026#34;bar\u0026#34; \u0026#39;1234\u0026#39; \u0026#39;one line \\n another line\u0026#39; \u0026#34;joyo\u0026#39;s cat\u0026#34; you should use string literals unless you specifically need to use a string object. see string for details on string objects.\nyou can call any of the string object\u0026rsquo;s methods on a string literal value. javascript automatically converts the string literal to a temporary string object, calls the method, then discards the temporary string object.\n// will print the number of symbols in the string including whitespace. console.log(\u0026#34;joyo\u0026#39;s cat\u0026#34;.length) // in this case, 10. template literals template literals are enclosed by the back-tick ( `).\n// basic literal string creation `in javascript \u0026#39;\\n\u0026#39; is a line-feed.` // multiline strings `in javascript, template strings can run over multiple lines, but double and single quoted strings cannot.` // string interpolation const name = \u0026#39;lev\u0026#39;, time = \u0026#39;today\u0026#39;; `hello ${name}, how are you ${time}?` tagged templates tagged templates are a compact syntax for specifying a template literal along with a call to a tag function for parsing it. a tagged template is just a more succinct and semantic way to invoke a function that processes a string and a set of relevant values. the name of the template tag function precedes the template literal — as in the following example, where the template tag function is named print. the print function will interpolate the arguments and serialize any objects or arrays that may come up, avoiding the pesky [object object].\nconst formatarg = (arg) =\u0026gt; { if (array.isarray(arg)) { // print a bulleted list return arg.map((part) =\u0026gt; `- ${part}`).join(\u0026#34;\\n\u0026#34;); } if (arg.tostring === object.prototype.tostring) { // this object will be serialized to \u0026#34;[object object]\u0026#34;. // let\u0026#39;s print something nicer. return json.stringify(arg); } return arg; } const print = (segments, ...args) =\u0026gt; { // for any well-formed template literal, there will always be n args and // (n+1) string segments. let message = segments[0]; segments.slice(1).foreach((segment, index) =\u0026gt; { message += formatarg(args[index]) + segment; }); console.log(message); } const todos = [ \u0026#34;learn javascript\u0026#34;, \u0026#34;learn web apis\u0026#34;, \u0026#34;set up my website\u0026#34;, \u0026#34;profit!\u0026#34;, ]; const progress = { javascript: 20, html: 50, css: 10 }; print`i need to do: ${todos} my current progress is: ${progress} `; // i need to do: // - learn javascript // - learn web apis // - set up my website // - profit! // my current progress is: {\u0026#34;javascript\u0026#34;:20,\u0026#34;html\u0026#34;:50,\u0026#34;css\u0026#34;:10} since tagged template literals are just sugar of function calls, you can re-write the above as an equivalent function call:\nprint([\u0026#34;i need to do:\\n\u0026#34;, \u0026#34;\\nmy current progress is: \u0026#34;, \u0026#34;\\n\u0026#34;], todos, progress); this may be reminiscent of the console.log-style interpolation:\nconsole.log(\u0026#34;i need to do:\\n%o\\nmy current progress is: %o\\n\u0026#34;, todos, progress); tagged template reads more naturally than a traditional \u0026ldquo;formatter\u0026rdquo; function, where the variables and the template itself have to be declared separately.\nescape character character meaning \\0 null byte \\b backspace \\f form feed \\n new line \\r carriage return \\t tab \\v vertical tab \\' apostrophe or single quote \\\u0026quot; double quote \\\\ backslash character \\xxx the character with the latin-1 encoding specified by up to three octal digits xxx between 0 and 377. for example, \\251 is the octal sequence for the copyright symbol. \\xxx the character with the latin-1 encoding specified by the two hexadecimal digits xx between 00 and ff. for example, \\xa9 is the hexadecimal sequence for the copyright symbol. \\uxxxx the unicode character specified by the four hexadecimal digits xxxx. for example, \\u00a9 is the unicode sequence for the copyright symbol. \\u{xxxxx} unicode code point escapes. for example, \\u{2f804} is the same as the simple unicode escapes \\ud87e\\udc04. const quote = \u0026#34;\\\\ he read \\\u0026#34;the cremation of sam mcgee\\\u0026#34; by r.w. service. \\\\\u0026#34;; console.log(quote); // \\ he read \u0026#34;the cremation of sam mcgee\u0026#34; by r.w. service. \\ you can also escape line breaks by preceding them with backslash. the backslash and line break are both removed from the value of the string.\nconst str = \u0026#39;this string \\ is broken \\ across multiple \\ lines.\u0026#39; console.log(str); // this string is broken across multiple lines. ","date":"2023-01-09","permalink":"https://kkkiona.github.io/posts/javascript-basics-1/","summary":"\u003cp\u003eThis chapter discusses what is JavaScript and its basic grammar, variable declarations, data types and literals.\u003c/p\u003e","title":"javascript basics 1"},{"content":"this chapter will introduce the basic concept of node.js and preparation for using node.js.\nnode.js node.js is an open-source and cross-platform javascript runtime environment. node.js runs the v8 javascript engine, the core of google chrome, outside of the browser. this allows node.js to be very performant. node.js can process every operation asynchronous in one single process, by a set of asynchronous i/o primitives privided in its standard library. instead of creating a new thread, it\u0026rsquo;s easy to control. node.js default use asynchronous functions, but also support synchronous functions which needed to be stated. install node.js for windows it\u0026rsquo;s easy for installation of node.js for windows. just download the proper installation package of node.js from the offical link and install it.\nit should be noticed that some useful modules can be installed automatically by node.js. just select \u0026lsquo;automatically install the necessary tools.\u0026rsquo; when you install node.js if you need these modules.\nand you can also install node.js through chocolatety (windows package management tool like apt in linux), just run:\nchoco install node.js by this way, it will not install additional modules automatically.\nfor linux (e.g. ubuntu) you can also install node.js by download the package from offical link, but it\u0026rsquo;s highly recommended installing by linux package management tool e.g. apt.\nsudo install node.js it should be noticed that compare with downloading installation package, some basic modules such as npm won\u0026rsquo;t be included automatically by this way. so you need to manually install them like:\nsudo apt install npm ","date":"2023-01-09","permalink":"https://kkkiona.github.io/posts/starting-nodejs/","summary":"\u003cp\u003eThis chapter will introduce the basic concept of Node.js and preparation for using Node.js.\u003c/p\u003e","title":"starting node.js"},{"content":"this article is the usage for the two follow github projects about the use of petsc lib.\nhttps://github.com/topopt/topopt_in_petsc https://github.com/thsmit/topopt_in_petsc_wrapped_in_python the first project will be called topopt and the second is topoptpy in the next part.\ninstallation of topopt installation to clone the topopt:\ngit clone https://github.com/topopt/topopt_in_petsc.git the main requirements are:\nlinux (tested in ubuntu-22.04.1) petsc (tested in 3.14.1 version) check how to install petsc in an other article\nafter downloading the project, you will the file named makefile_ref in the root directory. the content of it is:\npetsc_dir=xxxxxx petsc_arch=xxxxxx cflags = -i. fflags= cppflags=-i. fppflags= locdir= examplesc= examplesf= mansec= cleanfiles= np= include ${petsc_dir}/lib/petsc/conf/variables include ${petsc_dir}/lib/petsc/conf/rules include ${petsc_dir}/lib/petsc/conf/test topopt: main.o topopt.o linearelasticity.o mma.o filter.o pdefilter.o mpiio.o chkopts rm -rf topopt -${clinker} -o topopt main.o topopt.o linearelasticity.o mma.o filter.o pdefilter.o mpiio.o ${petsc_sys_lib} ${rm} main.o topopt.o linearelasticity.o mma.o filter.o pdefilter.o mpiio.o rm -rf *.o myclean: rm -rf topopt *.o output* binary* log* makevtu.pyc restart* change the petsc_dir and petsc_arch to your path (it can be found in the petsc\u0026rsquo;s configure.log). and then, change the makefile_ref name to makefile, so you can make the project after that:\nmake check all running after making, you can do the following:\nnormal compilation time of framework, e.g. 4s: make topopt -j. run the base example to generate bitwise file (.bat) by typing e.g.: mpirun -np 4 ./topopt. postprocess results using python 2.6 for visualization (.vtu): bin2vtu # where # refers to the iteration number if haven\u0026rsquo;t python2.6, using sudo apt install python2 to install.\nthe result (default name output_xxxxx.vtu) can be visualized through paraview, which can be installed by: sudo apt install paraview or download from https://www.paraview.org/. running paraview, open the output_xxxxx.vtu (file-\u0026gt;open), turn on the eye button, and select one shader.\ninstallation of topoptpy o clone the topopt:\ngit clone https://github.com/thsmit/topopt_in_petsc_wrapped_in_python.git the main requirements are:\nlinux (tested in ubuntu-22.04.1) petsc (tested in 3.14.1 version) python3 (tested in 3.10.6 version) one of the differents between topopt and topoptpy is topoptpy is managed by cmake. so before building, it need to install cmake by:\nsudo apt install cmake then, set the petsc_dir and petsc_arch path by:\nexport petsc_arch=arch-linux-c-opt export petsc_dir=/home/ts/documents/petsc and creat the build folder:\nmkdir build \u0026amp;\u0026amp; cd build at last, it can be maked:\ncmake .. -d petsc_executable_runs=on make -j $(nproc) when making the project, might meeting the error likes:\ncannot compile.link c with mpicc: /usr/bin/ld: cannot find -lmpi_cxx it means lack of depended libs. you need to use apt to install them for example:\nsudo apt search lmpi ... sudo apt install libmkl-blacs-intelmpi-ilp64 #choose the applicable version running running \u0026lsquo;hello world\u0026rsquo; example running a \u0026lsquo;hello world\u0026rsquo; example from the command line. generates standard cantilever beam and output .vtr files for viewing in paraview.\nimport topoptlib data = topoptlib.data() data.solve() the output files are named topopt_xxx.vtr, which can be read as a group by paraview same like topopt.\nrunning examples to run the cantilever beam example on one cpu (adjust the problem\u0026rsquo;s mesh according to the number of available cpu\u0026rsquo;s):\ncd topopt_in_petsc_wrapped_in_python cp examples/beam.py . python3 beam.py available examples:\ncantilever beam in beam.py multi-loads in multiloads.py torsion ball in sphere.py the jet engine bracket in bracket.py running on eth euler (without installing petsc) env2lmod module load gcc/4.8.5 cmake/3.16.5 openmpi/3.0.1 petsc/3.10.5 python/3.7.4 cd topopt_in_petsc_wrapped_in_python mkdir build cd build cmake .. make cd .. bsub -n 8 mpirun -n 8 python3 bracket.py or use run_topopt.sh for automated building and running.\nrunning tests several tests are provided to verify the proper working of the framework. to run a test using 4 cpu\u0026rsquo;s use:\ncd topopt_in_petsc_wrapped_in_python cp topoptlib/test/test_beam.py . mpirun -n 4 python3 test_beam.py implemented tests in /tests:\ntesting standard mbb problem with maxitr of 40 test_beam.py testing the standard mbb problem with two line loads test_multiload.py testing continuation of penalization test_continuation.py testing heavyside projection filtering test_projection.py testing stl readin of design domain, rigid domain test_sphere.py testing stl readin of design domain, rigid domain test_bracket.py testing the robust approach test_michell.py or use test_topopt.sh for automated building and running the tests. post-processing (easy) the framework can write .vtr files of the designs with in point data. the designs can be viewed in paraview. the point data can be transformed into cell data by using paraview\u0026rsquo;s pointtocelldata filter. to generate .vtr files add the following command to the problem definition:\nvtr(20) post-processing (original) after solving the problem the output is written to a output.dat file. the designs can be viewed in paraview. to generate .vtu files from the output file use post_process_topopt.sh with python 2 (with * the file path and name where the output file is stored):\ncd topopt_in_petsc_wrapped_in_python ./post_process_topopt.sh * ","date":"2022-12-29","permalink":"https://kkkiona.github.io/posts/topopt_in_petsc-2022-12-29/","summary":"\u003cp\u003eThis article is the Usage for the two follow github projects about the use of PETSc lib.\u003c/p\u003e","title":"usage of topopt_in_petsc projects"},{"content":"this article will cover the installation of the petsc library, including the common installation for linux and the attempt on windows.\ninstallation for linux this article is applicable to the building of petsc-3.14.1. you can download the newest version by:\ngit clone -b release https://gitlab.com/petsc/petsc.git #if haven\u0026#39;t the git tool, you can install it through \u0026#39;apt\u0026#39;. #follow steps will show how to use \u0026#39;apt\u0026#39;. or search the applicable version through the link:\nhttps://gitlab.com/petsc/petsc\nenvironment building petsc relies on the following environments：\nubuntu (linux system, tested in 22.04.1 version) gcc/g++/gfrotran (c/c++/frotran compiler, tested in 11.3.0 version) python3 (tested in 3.10.6) lapack/blas (scientific computing library, tested in 3,4,2 version) mpich (realization of mpi, tested in 4.0.2 version) installation the first step is installing ubuntu system, you can install it on your pc or virtual machine (e.g.vmware).\nplease choose english as the system language if you can accpet, which is convenient for programming. you can choose the minimal installation and don\u0026rsquo;t choose any third-part software and updating opeions when installing, if you internet is not good enough. after ubuntu installation, the first thing you need to do is updating software. ubuntu uses apt gizmo to manage software, the updating command:\n# using \u0026#39;apt-get\u0026#39; to instead \u0026#39;apt\u0026#39;, if your system doesn\u0026#39;t support \u0026#39;apt\u0026#39; sudo apt update # update \u0026#39;apt\u0026#39; itself sudo apt upgrade # update software if the origin software mirror source is too late, you can change it by:\ncp /etc/apt/sources.list /etc/apt/sources.list.bak # copy old version sudo vi /etc/apt/sources.list deb http://mirrors.aliyun.com/ubuntu/ xxxx main restricted universe multiverse # change all the link, notice keep \u0026#39;xxxx\u0026#39; with your own codename some recommended sources are follows:\n# aliyun deb http://mirrors.aliyun.com/ubuntu/ xenial main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse # tsinghua deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial main restricted universe multiverse deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-security main restricted universe multiverse deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-updates main restricted universe multiverse deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-backports main restricted universe multiverse the next step is installing gcc/g++/gfrotran and python3, you can directly install them with apt:\nsudo apt install gcc sudo apt install g++ sudo apt install gfortran sudo apt install python3 if can\u0026rsquo;t find the package, you can use apt search to search it and choose the right version for installing.\nin some situation, you might meet error: configure: error: no acceptable c compiler found in $path, especially choosing minimal version when installing ubuntu. you can fix it by:sudo apt-get install -y build-essential.\nthere are two different ways about installing lapack/blas and mpich. the first is installing during the petsc configuring, which recommended by petsc official. the other is using apt.\nfor the first way, cd into the petsc\u0026rsquo;s root directory and configure with follow command:\n./configure --with-cc=gcc --with-cxx=g++ --with-fc=gfortran --download-mpich --download-fblaslapack if download fails, you can download these packages mannually from the given link in the configure message. then, indicate the download directory:\n./configure --with-cc=gcc --with-cxx=g++ --with-fc=gfortran --download-mpich --download-fblaslapack --with-download-dir=\u0026lt;xxxxx\u0026gt; after configuration, make the project:\nmake all check if you don\u0026rsquo;t have the make tool, install it by apt.\nthe second way is installing lapack/blas and mpich mannually. lapack/blas are easily to install:\nsudo apt search lapack-dev ... sudo apt install liblapack64-dev #choose the applicable version sudo apt search blas-dev ... sudo apt install libblas64-dev #choose the applicable version mpi is a cross-language communication protocol for parallel programming. mpich is one of realizations of mpi, and you can also choose openmpi to instead it:\nsudo apt install mpich #sudo apt install openmpi after that, if the $path is correct you can configure petsc directly, otherwise you need indicate the directory:\n./configure --with-cc=gcc --with-cxx=g++ --with-fc=gfortran #./configure --with-cc=gcc --with-cxx=g++ --with-fc=gfortran --with--mpich-dir=\u0026lt;xxxx\u0026gt; --with--fblaslapack-dir=\u0026lt;xxxx\u0026gt; after configuration, make the project:\nmake all check during the making process, some errors might occur such as /usr/bin/ld: cannot find -lmpi_cxx, which means lack of depended libs. you need to use apt to install them for example:\nsudo apt search lmpi ... sudo apt install libmkl-blacs-intelmpi-ilp64 #choose the applicable version after making, the message will show follows. you can re-check this information through configure.log, the petsc_dir and petsc_arch will be used in your project.\n----------------------------------------- petsc_version_release . . . ----------------------------------------- #define some_petsc_variable . . . ----------------------------------------- installed compiler, package, and library information . . . ========================================= fc arch-darwin-c-debug/obj/sys/f90-mod/petscsysmod.o fc arch-darwin-c-debug/obj/sys/fsrc/somefort.o fc arch-darwin-c-debug/obj/sys/f90-src/fsrc/f90_fwrap.o cc arch-darwin-c-debug/obj/sys/info/verboseinfo.o cc arch-darwin-c-debug/obj/sys/info/ftn-auto/verboseinfof.o cc arch-darwin-c-debug/obj/sys/info/ftn-custom/zverboseinfof.o . . . fc arch-darwin-c-debug/obj/snes/f90-mod/petscsnesmod.o fc arch-darwin-c-debug/obj/ts/f90-mod/petsctsmod.o fc arch-darwin-c-debug/obj/tao/f90-mod/petsctaomod.o clinker arch-darwin-c-debug/lib/libpetsc.petsc_major.petsc_minor.petsc_patch.dylib dsymutil arch-darwin-c-debug/lib/libpetsc.petsc_major.petsc_minor.petsc_patch.dylib gmake[2]: leaving directory \u0026#39;/your/petsc/dir\u0026#39; gmake[1]: leaving directory \u0026#39;/your/petsc/dir\u0026#39; ========================================= running test examples to verify correct installation using petsc_dir=/your/petsc/dir and petsc_arch=your-petsc-arch c/c++ example src/snes/examples/tutorials/ex19 run successfully with 1 mpi process c/c++ example src/snes/examples/tutorials/ex19 run successfully with 2 mpi processes fortran example src/snes/examples/tutorials/ex5f run successfully with 1 mpi process completed test examples installation for windows the installation of petsc for windows is not successful yet, this is just a record for the works.\nenvironment this article try msys2 and cygwin separately to build petsc：\nmsys2 (linux environment in windows, tested in 20221216.0.0 version) cygwin (linux environment in windows, tested in 1.2.1 version) test in msys2 the msys2 system uses pacman to manage packages such like apt. you need to install all the same packages in linux to msys2 by pacman. msys2 doesn\u0026rsquo;t have some base packages (e.g.make), which you also need to install. usage of pacman:\npacman -ss [package name] #search package pacman -s [package name] #install package the problem is when trying to configure petsc after installing all the packages, it will meet error:\ncould not execute \u0026#34;[\u0026#39;/bin/rpm -q diffutils\u0026#39;]\u0026#34;: /bin/sh: line 1: /bin/rpm: no such file or directory. the msys2 is a simple linux environment running on windows, which doesn\u0026rsquo;t support enough to run this command.\ntest in cygwin the cygwin system doesn\u0026rsquo;t have such as pacman or apt tool to manage packages. one of the way to get package is to re-run the cygwin-setup and to choose the needed package.\nthe other way to get the package is use apt-cyg. apt-cyg is similar to apt, but need be installed mannually:\nlynx -source rawgit.com/transcode-open/apt-cyg/master/apt-cyg \u0026gt; apt-cyg install apt-cyg /bin or you can copy the apt-cyg\u0026rsquo;s content through https://github.com/transcode-open/apt-cyg to cygwin:/bin to creat the same file and run:\nchmod +x apt-cyg the first problem except installing the base packages is cygwin can\u0026rsquo;t install mpich successfully through above ways. so i try to build it mannualy.\nfirstly, download the source of mpich from https://www.mpich.org/downloads/ and unpack the tar file (if doesn\u0026rsquo;t have tar or other tools, just install them by cygwin-setup or apt-cyg):\ntar xfz mpich.tar.gz #if tar doesn’t accept the z option, use #gunzip -c mpich.tar.gz | tar xf - let us assume that the directory where you do this is /home/you/libraries. it will now contain a subdirectory named mpich-x.x.x. choose an installation directory (the default is /usr/local/bin):\nmkdir /home/you/mpich-install choose a build directory:\nmkdir /tmp/you/mpich-x.x.x configure mpich, specifying the installation directory, and running the configure script in the source directory:\ncd /tmp/you/mpich-x.x.x /home/you/libraries/mpich-x.x.x/configure -prefix=/home/you/mpich-install |\u0026amp; tee c.txt for the cygwin\u0026rsquo;s gfortran, it will meet error:\nconfigure: error: the fortran compiler gfortran does not accept programs that call the same routine with arguments of different types without the option -fallow-argument-mismatch. rerun configure with fflags=-fallow-argument-mismatch and fcflags=-fallow-argument-mismatch change the command:\n/home/you/libraries/mpich-x.x.x/configure -prefix=/home/you/mpich-install fflags=-fallow-argument-mismatch fcflags=-fallow-argument-mismatch |\u0026amp; tee c.txt the error change to:\nconfigure: error: libfabric only builds on linux, os x, and freebsd configure: error: libfabric configure failed it seems cygwin can not support mpich yet.\nconclusion it is not to hard to and possible to change the code to windows version, because of the similarity between gcc and msvc。so the best way is to rewrite the full code instead of using virtual linux environment.\n","date":"2022-12-28","permalink":"https://kkkiona.github.io/posts/installation-petsc-2022-12-28/","summary":"\u003cp\u003eThis article will cover the installation of the PETSc library, including the common installation for Linux and the attempt on Windows.\u003c/p\u003e","title":"installation of petsc"},]
            
        
    </div>

    <div id="search">
        
        <span class="sc-icon"><img src="/imgs/icons/search.svg" width="48"> </span>
        <span id="sc-clear" onclick="clearInputVal()">✖</span>
        <input id="sc-input" oninput="search()" type="text" placeholder="here search search..." />
        <div id="sc-res"></div>
    </div>
    <script src="/js/search.js" defer></script>
</div>

    


    
</div>

        </div>
        <div id="footer"><div class="container-footer">
    
    <a href="https://music.163.com/outchain/player?type=2&amp;id=1348896822&amp;auto=1&amp;height=66" target="_blank">
        
        你当然会幸福，毕竟我双手合十的愿望都是你。
        
    </a>
    <a id="s" href="/secrets">&nbsp;</a>
</div></div>
    </body>
</html>
